<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no,viewport-fit=cover">

  <title>Story</title>

  <style>
    body { font-family: Arial; padding: 20px; line-height: 1.6; }
    img { width: 100%; border-radius: 12px; }
    p { margin-bottom: 15px; }
  </style>

</head>
<body>

  <h1 id="title"></h1>
  <p id="tag"></p>
  <p id="time"></p>
  <img id="image">
  <div id="content"></div>

<script>
  const params = new URLSearchParams(window.location.search);
  const storyId = params.get("id");

  fetch(`stories/${storyId}.json`)
    .then(res => res.json())
    .then(data => {
        document.getElementById("title").innerText = data.title;
        document.getElementById("tag").innerText = data.tag;
        document.getElementById("time").innerText = data.time;
        document.getElementById("image").src = data.image;

        // content array insert
        let contentHTML = "";
        data.content.forEach(c => {
            contentHTML += `<p>${c}</p>`;
        });

        document.getElementById("content").innerHTML = contentHTML;
    })
    .catch(err => {
        document.body.innerHTML = "<h2>Story not found</h2>";
    });
</script>

</body>
</html>
