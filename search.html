<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
<title>Search â€“ Sprout</title><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet"><style>
:root{
  --bg:#ffffff;
  --text:#000000;
  --card:#ffffff;
  --border:1px solid rgba(0,0,0,0.08);
  --radius:14px;
  --skeleton:#e5e7eb;
}

@media(prefers-color-scheme:dark){
:root{
  --bg:#212529;
  --text:#ffffff;
  --card:#343a40;
  --border:1px solid rgba(255,255,255,0.08);
  --skeleton:#3a3f44;
}}

body{background:var(--bg);font-family:'Inter',system-ui,sans-serif;color:var(--text);} 

.header{position:sticky;top:0;background:var(--card);border-bottom:var(--border);z-index:1000;}

.search-input{border:none;background:transparent;font-size:15px;}
.search-box{border:var(--border);border-radius:12px;background:var(--card);} 

.story-card{background:var(--card);border:var(--border);border-radius:var(--radius);overflow:hidden;}

.thumb img{width:100%;aspect-ratio:16/8;object-fit:cover;opacity:0;transition:.4s;} 
.thumb img.loaded{opacity:1;} 

.img-skeleton{position:absolute;inset:0;background:linear-gradient(90deg,var(--skeleton)25%,#f3f4f6 37%,var(--skeleton)63%);background-size:400% 100%;animation:skeleton 1.2s infinite;} 
.img-skeleton.hide{opacity:0;transition:.4s;} 

@keyframes skeleton{0%{background-position:100%}100%{background-position:0}}

.empty{font-size:14px;color:#6b7280;text-align:center;margin-top:40px;}

.page-skeleton{height:120px;background:linear-gradient(90deg,var(--skeleton)25%,#f3f4f6 37%,var(--skeleton)63%);background-size:400% 100%;animation:skeleton 1.2s infinite;border-radius:8px;}

</style></head><body><header class="header p-2">
<div class="container-fluid">
<div class="input-group search-box">
<a href="index.html" class="input-group-text bg-transparent border-0"><i class="bi bi-arrow-left"></i></a>
<span class="input-group-text bg-transparent border-0"><i class="bi bi-search"></i></span>
<input id="search" type="text" class="form-control search-input" placeholder="Search money stories..." autofocus>
</div>
</div>
</header><main class="container py-3">
<section id="results" class="row g-3"></section>
<div id="empty" class="empty d-none">No result found. Try another keyword.</div>
</main><script>
const box=document.getElementById("results");
const empty=document.getElementById("empty");
let stories=[];

/* skeleton */
function skeleton(n=6){
let h="";
for(let i=0;i<n;i++){
h+=`<div class="col-12"><div class="page-skeleton"></div></div>`;
}
box.innerHTML=h;
}

skeleton();

fetch("https://sparrow-tech06.github.io/Sprout/stories.json")
.then(r=>r.json())
.then(d=>{
stories=d;
render([]);
})
.catch(()=>box.innerHTML="Unable to load");

function render(data){
if(!data.length){
box.innerHTML="";
empty.classList.remove("d-none");
return;
}

empty.classList.add("d-none");

let h="";

data.forEach(s=>{
h+=`<div class="col-12">
<a href="${s.link}" class="text-decoration-none text-dark">
<div class="story-card">
<div class="position-relative thumb">
<div class="img-skeleton"></div>
<img src="${s.image}" loading="lazy" onload="this.classList.add('loaded');this.previousElementSibling.classList.add('hide');">
</div>
<div class="p-3">
<h6 class="fw-semibold">${s.title}</h6>
<p class="small mb-1">${s.subtitle}</p>
<small class="text-muted"><i class="bi bi-clock"></i> ${s.duration}</small>
</div>
</div>
</a>
</div>`;
});

box.innerHTML=h;
}

/* real time search */
document.getElementById("search").addEventListener("input",e=>{
const q=e.target.value.toLowerCase().trim();
if(!q){
render([]);
return;
}

const filtered=stories.filter(s=>
 s.title.toLowerCase().includes(q) ||
 s.subtitle.toLowerCase().includes(q) ||
 s.tag.toLowerCase().includes(q)
);

render(filtered);
});

</script></body>
</html>
