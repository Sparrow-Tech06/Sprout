<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />

<meta name="viewport"
content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no,viewport-fit=cover">

<title>Sprout â€“ Simple Money Story Learning App</title>

<!-- Prevent Auto Translation -->
<meta name="google" content="notranslate">

<!-- Content Security Policy (Play Store Safe) -->
<meta http-equiv="Content-Security-Policy"
content="default-src 'self' https: data:;
img-src * data:;
style-src 'self' https: 'unsafe-inline';
script-src 'self' https: 'unsafe-inline';">

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

<!-- Version / Update Scripts -->
<script src="control_center/version-check.js" defer></script>
<script src="control_center/app-version-checker.js" defer></script>

<style>
:root{
  --bg:#ffffff;
  --text:#000000;
  --primary:#5b8dfc;
  --card:#ffffff;
  --icon:#2e7d32;
  --radius:14px;
  --border:1px solid rgba(0,0,0,0.08);
}

@media(prefers-color-scheme:dark){
  :root{
    --bg:#212529;
    --text:#ffffff;
    --card:#343a40;
    --border:1px solid rgba(255,255,255,0.08);
  }
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  user-select:none;
}

body{
  background:var(--bg);
  font-family:'Inter',system-ui,sans-serif;
  color:var(--text);
}

/* ================= HEADER ================= */
.header-section{
  background:var(--card);
  border-bottom:var(--border);
  padding:6px 8px;
  position:sticky;
  top:0;
  z-index:1030;
  transition:transform .3s ease;
}

.navbar-hidden{
  transform:translateY(-100%);
}

.btn-clean,
.btn-clean:hover,
.btn-clean:focus{
  border:none;
  box-shadow:none;
  background:none;
}

.notification-icon{
  background:#e9f5ef;
  border-radius:50%;
  padding:6px 9px;
}

.notification-icon i{
  color:#2f8f6b;
  font-size:1.3rem;
}

/* ================= SIDEBAR ================= */
.offcanvas{
  width:85%!important;
  background:var(--card);
}

ul{
  list-style:none;
  padding:0;
  margin:0;
}

ul li a{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 14px;
  text-decoration:none;
  color:var(--text);
  font-size:14px;
}

ul li a:hover{
  background:rgba(0,0,0,0.05);
}

ul li a i{
  font-size:22px;
  color:var(--icon);
}

/* ================= STORY CARD ================= */
.story-card{
  background:var(--card);
  border-radius:var(--radius);
  border:var(--border);
  overflow:hidden;
  transition:.25s ease;
  cursor:pointer;
}

.story-card:hover{
  transform:translateY(-2px);
}

.thumb img{
  width:100%;
  aspect-ratio:16/7;
  object-fit:cover;
}

/* Tags */
.ribbon{
  position:absolute;
  top:12px;
  right:12px;
  background:var(--primary);
  padding:4px 8px;
  border-radius:20px;
  color:#fff;
  font-size:.7rem;
  font-weight:600;
}

.new-tag{
  position:absolute;
  top:12px;
  left:12px;
  background:#ff3b30;
  padding:4px 8px;
  border-radius:6px;
  color:#fff;
  font-size:.75rem;
  font-weight:600;
}

/* Typography */
h4{font-size:1rem;}
p{font-size:.8rem;}
small{font-size:.7rem;}

.app-tagline{
  font-size:.75rem;
}

/* ================= PASTEL CARD CYCLE ================= */
#story-container>.col-12:nth-child(5n+1) .story-card{background:#ffe3e3;}
#story-container>.col-12:nth-child(5n+2) .story-card{background:#e7f5ff;}
#story-container>.col-12:nth-child(5n+3) .story-card{background:#ebfbee;}
#story-container>.col-12:nth-child(5n+4) .story-card{background:#fff9db;}
#story-container>.col-12:nth-child(5n+5) .story-card{background:#f3f0ff;}
</style>
</head>

<body>

<!-- ================= HEADER ================= -->
<header id="main-header" class="header-section">
<div class="container-fluid d-flex justify-content-between align-items-center">

<div class="d-flex align-items-center gap-2">
<button class="btn btn-clean" data-bs-toggle="offcanvas" data-bs-target="#sidebar" aria-label="Menu">
<i class="bi bi-list fs-3"></i>
</button>

<div>
<h1 class="m-0 fw-bold fs-6">Sprout</h1>
<span class="app-tagline">Simple stories, lasting thoughts</span>
</div>
</div>

<a href="notifications/notifications.html" class="notification-icon" aria-label="Notifications">
<i class="bi bi-bell-fill"></i>
</a>

</div>
</header>

<!-- ================= SIDEBAR ================= -->
<div class="offcanvas offcanvas-start" id="sidebar">
<div class="offcanvas-header">
<h5>Sprout</h5>
<button class="btn-close" data-bs-dismiss="offcanvas"></button>
</div>

<div class="offcanvas-body">
<ul>
<li><a href="#"><i class="bi bi-person-circle"></i> My Profile</a></li>
<li><a href="#"><i class="bi bi-people"></i> New Group</a></li>
<li><a href="#"><i class="bi bi-person-lines-fill"></i> Suggest your facts</a></li>
<li><a href="collection/save.html"><i class="bi bi-bookmark"></i> Saved</a></li>
<li><a href="#"><i class="bi bi-person-plus"></i> Invite Friends</a></li>
</ul>

<hr>

<ul>
<li><a href="#"><i class="bi bi-question-circle"></i> FAQ</a></li>
<li><a href="#"><i class="bi bi-shield-check"></i> Terms of Use</a></li>
<li><a href="#"><i class="bi bi-lock"></i> Privacy Policy</a></li>
<li><a href="#"><i class="bi bi-telephone"></i> Contact Us</a></li>
</ul>
</div>
</div>

<!-- ================= MAIN ================= -->
<main class="container mt-4 pb-5">
<section id="story-container" class="row g-3"></section>
</main>

<!-- ================= SCRIPTS ================= -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
const box = document.getElementById("story-container");

fetch("stories.json")
.then(res => res.json())
.then(data => {
  let html = "";
  data.forEach(story => {
    html += `
    <div class="col-12">
      <a href="${story.link}" class="text-decoration-none text-dark">
        <article class="story-card">
          <div class="position-relative thumb">
            <img src="${story.image}" loading="lazy" alt="Story image">
            ${story.isNew ? `<div class="new-tag">NEW</div>` : ``}
            <div class="ribbon">${story.tag}</div>
          </div>
          <div class="p-3">
            <h4 class="fw-bold">${story.title}</h4>
            <p class="mb-1">${story.subtitle}</p>
            <small><i class="bi bi-clock"></i> ${story.duration}</small>
          </div>
        </article>
      </a>
    </div>`;
  });
  box.innerHTML = html;
})
.catch(()=>{
  box.innerHTML = `<p class="text-center text-muted">Unable to load stories</p>`;
});
</script>

<script>
let prev = window.pageYOffset;
const header = document.getElementById("main-header");

window.addEventListener("scroll",()=>{
  const curr = window.pageYOffset;
  if(curr > 60 && curr > prev){
    header.classList.add("navbar-hidden");
  }else{
    header.classList.remove("navbar-hidden");
  }
  prev = curr;
});
</script>

</body>
</html>
